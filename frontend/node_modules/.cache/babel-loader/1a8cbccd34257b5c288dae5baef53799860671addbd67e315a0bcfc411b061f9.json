{"ast":null,"code":"const API_BASE = \"http://localhost:3001\";\n\n// Load alerts from backend\nasync function loadAlerts() {\n  try {\n    const res = await fetch(`${API_BASE}/api/alerts`);\n    const alerts = await res.json();\n    renderTable(alerts);\n  } catch (err) {\n    console.error(\"Backend not reachable:\", err);\n  }\n}\n\n// Fill table with data\nfunction renderTable(alerts) {\n  const body = document.querySelector(\"tbody\");\n  body.innerHTML = \"\";\n  alerts.forEach(a => {\n    const tr = document.createElement(\"tr\");\n    tr.innerHTML = `\n      <td>${a.account_id}</td>\n      <td>₹${a.amount}</td>\n      <td>${a.score.toFixed(2)}</td>\n      <td><span class=\"status ${a.decision}\">${a.decision}</span></td>\n      <td>\n        <button class=\"approve\" onclick=\"sendAction('${a._id}','approve')\">Approve</button>\n        <button class=\"block\" onclick=\"sendAction('${a._id}','block')\">Block</button>\n      </td>`;\n    body.appendChild(tr);\n  });\n}\n\n// Send action back to backend\nasync function sendAction(alertId, action) {\n  try {\n    const res = await fetch(`${API_BASE}/api/action`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        alertId,\n        action\n      })\n    });\n    const data = await res.json();\n    if (res.ok) {\n      alert(\"Action saved: \" + action);\n      loadAlerts(); // refresh table\n    } else {\n      alert(\"Error: \" + (data.error || \"Failed\"));\n    }\n  } catch (err) {\n    console.error(err);\n    alert(\"Connection error\");\n  }\n}\n\n// Auto-refresh every 10 s\nloadAlerts();\nsetInterval(loadAlerts, 10000);","map":{"version":3,"names":["API_BASE","loadAlerts","res","fetch","alerts","json","renderTable","err","console","error","body","document","querySelector","innerHTML","forEach","a","tr","createElement","account_id","amount","score","toFixed","decision","_id","appendChild","sendAction","alertId","action","method","headers","JSON","stringify","data","ok","alert","setInterval"],"sources":["C:/Users/Varun/OneDrive/Desktop/fraud-pipeline/frontend/src/App.js"],"sourcesContent":["const API_BASE = \"http://localhost:3001\";\r\n\r\n// Load alerts from backend\r\nasync function loadAlerts() {\r\n  try {\r\n    const res = await fetch(`${API_BASE}/api/alerts`);\r\n    const alerts = await res.json();\r\n    renderTable(alerts);\r\n  } catch (err) {\r\n    console.error(\"Backend not reachable:\", err);\r\n  }\r\n}\r\n\r\n// Fill table with data\r\nfunction renderTable(alerts) {\r\n  const body = document.querySelector(\"tbody\");\r\n  body.innerHTML = \"\";\r\n\r\n  alerts.forEach(a => {\r\n    const tr = document.createElement(\"tr\");\r\n    tr.innerHTML = `\r\n      <td>${a.account_id}</td>\r\n      <td>₹${a.amount}</td>\r\n      <td>${a.score.toFixed(2)}</td>\r\n      <td><span class=\"status ${a.decision}\">${a.decision}</span></td>\r\n      <td>\r\n        <button class=\"approve\" onclick=\"sendAction('${a._id}','approve')\">Approve</button>\r\n        <button class=\"block\" onclick=\"sendAction('${a._id}','block')\">Block</button>\r\n      </td>`;\r\n    body.appendChild(tr);\r\n  });\r\n}\r\n\r\n// Send action back to backend\r\nasync function sendAction(alertId, action) {\r\n  try {\r\n    const res = await fetch(`${API_BASE}/api/action`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ alertId, action })\r\n    });\r\n    const data = await res.json();\r\n    if (res.ok) {\r\n      alert(\"Action saved: \" + action);\r\n      loadAlerts(); // refresh table\r\n    } else {\r\n      alert(\"Error: \" + (data.error || \"Failed\"));\r\n    }\r\n  } catch (err) {\r\n    console.error(err);\r\n    alert(\"Connection error\");\r\n  }\r\n}\r\n\r\n// Auto-refresh every 10 s\r\nloadAlerts();\r\nsetInterval(loadAlerts, 10000);\r\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,uBAAuB;;AAExC;AACA,eAAeC,UAAUA,CAAA,EAAG;EAC1B,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGH,QAAQ,aAAa,CAAC;IACjD,MAAMI,MAAM,GAAG,MAAMF,GAAG,CAACG,IAAI,CAAC,CAAC;IAC/BC,WAAW,CAACF,MAAM,CAAC;EACrB,CAAC,CAAC,OAAOG,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEF,GAAG,CAAC;EAC9C;AACF;;AAEA;AACA,SAASD,WAAWA,CAACF,MAAM,EAAE;EAC3B,MAAMM,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,OAAO,CAAC;EAC5CF,IAAI,CAACG,SAAS,GAAG,EAAE;EAEnBT,MAAM,CAACU,OAAO,CAACC,CAAC,IAAI;IAClB,MAAMC,EAAE,GAAGL,QAAQ,CAACM,aAAa,CAAC,IAAI,CAAC;IACvCD,EAAE,CAACH,SAAS,GAAG;AACnB,YAAYE,CAAC,CAACG,UAAU;AACxB,aAAaH,CAAC,CAACI,MAAM;AACrB,YAAYJ,CAAC,CAACK,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC;AAC9B,gCAAgCN,CAAC,CAACO,QAAQ,KAAKP,CAAC,CAACO,QAAQ;AACzD;AACA,uDAAuDP,CAAC,CAACQ,GAAG;AAC5D,qDAAqDR,CAAC,CAACQ,GAAG;AAC1D,YAAY;IACRb,IAAI,CAACc,WAAW,CAACR,EAAE,CAAC;EACtB,CAAC,CAAC;AACJ;;AAEA;AACA,eAAeS,UAAUA,CAACC,OAAO,EAAEC,MAAM,EAAE;EACzC,IAAI;IACF,MAAMzB,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGH,QAAQ,aAAa,EAAE;MAChD4B,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CnB,IAAI,EAAEoB,IAAI,CAACC,SAAS,CAAC;QAAEL,OAAO;QAAEC;MAAO,CAAC;IAC1C,CAAC,CAAC;IACF,MAAMK,IAAI,GAAG,MAAM9B,GAAG,CAACG,IAAI,CAAC,CAAC;IAC7B,IAAIH,GAAG,CAAC+B,EAAE,EAAE;MACVC,KAAK,CAAC,gBAAgB,GAAGP,MAAM,CAAC;MAChC1B,UAAU,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,MAAM;MACLiC,KAAK,CAAC,SAAS,IAAIF,IAAI,CAACvB,KAAK,IAAI,QAAQ,CAAC,CAAC;IAC7C;EACF,CAAC,CAAC,OAAOF,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC;IAClB2B,KAAK,CAAC,kBAAkB,CAAC;EAC3B;AACF;;AAEA;AACAjC,UAAU,CAAC,CAAC;AACZkC,WAAW,CAAClC,UAAU,EAAE,KAAK,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}